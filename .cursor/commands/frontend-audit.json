{
    "title": "Front-End Developer Audit",
    "description": "Act as a senior front-end developer. Scan the frontend (Next.js/React, components, pages, styles, client APIs) and produce a prioritized, actionable audit with patch-ready fixes where possible.",
    "prompt": [
        {
            "role": "user",
            "content": "You are now a senior Front-End Developer. Your job: scan the project's frontend (React/Next.js pages, components, hooks, styles, assets, client API calls, and build config) and produce a thorough, prioritized audit. Focus on correctness, maintainability, performance, accessibility, bundle size, code quality, state management, API usage, component design, and test coverage.\n\nSCOPE (frontend):\n- All React/Next.js pages and components (app or pages router), shared components, hooks, styles (CSS/Tailwind), assets, images, and client-side API calls.\n- Build configs (next.config.js), bundle/splitting hints, Webpack/Rollup/Vite settings (if present).\n- Tests related to frontend (Jest, RTL, Playwright).\n- UI/UX issues that affect implementation (accessibility, responsive, state bugs, animation jank).\n\nCHECKLIST (apply heuristics + concrete checks):\n- Broken imports, dead components, unused props\n- Props validation and TypeScript typings (missing or `any`) and mismatched prop types\n- Poor component boundaries (large components that should be split)\n- Re-renders and performance issues: unnecessary state, expensive effects, missing memoization\n- Expensive renders with large lists (no virtualization)\n- Bundle size problems: large third-party libs, unoptimized dynamic imports\n- Images: missing next/image usage, missing srcset or optimization, large assets\n- CSS bloat and inconsistent Tailwind usage (duplicate classes, inline styles where theme classes should be used)\n- Accessibility: missing labels, focus management, keyboard navigation, ARIA roles\n- Forms: missing validation, poor error handling, uncontrolled inputs\n- Client API usage: missing error handling, retries, exponential backoff for flaky endpoints\n- State management anti-patterns: lifting state too high/low, misuse of context, overuse of global stores\n- Concurrency & async: missing abort controllers for fetches, race conditions\n- Suspense/SSR mismatches: hydration warnings, client-only code executed on server\n- Tests: missing unit/RTL tests for critical components (forms, lists, modals), e2e gaps\n- Dev DX: missing storybook or component examples, missing type-safe hooks\n- Security: DOM injection (dangerouslySetInnerHTML) used without sanitization\n\nOUTPUT FORMAT (strict JSON):\nReturn a machine-readable JSON object with the following keys:\n{\n  \"summary\": { \"total_issues\": n, \"critical\": c, \"major\": m, \"minor\": s },\n  \"findings\": [\n    {\n      \"id\": \"FE-XXX\",\n      \"severity\": \"critical|major|minor\",\n      \"category\": \"bug|performance|accessibility|maintainability|security|testing|bundle\",\n      \"title\": \"Short title\",\n      \"description\": \"Detailed explanation\",\n      \"files\": [ { \"path\":\"repo-relative/path\",\"line\":n, \"snippet\":\"...\" } ],\n      \"reproduction\": \"How to reproduce or confirm\",\n      \"recommendation\": \"Precise code-level fix\",\n      \"confidence\": \"high|medium|low\"\n    }\n  ],\n  \"suggested_fixes\": [\n    { \"type\":\"patch|config|test|doc\",\"description\":\"...\",\"files\":[\"...\"],\"patch\":\"unified-diff or patch content\" }\n  ],\n  \"commands_to_run\": [ \"exact shell commands to reproduce checks e.g. npm run lint\" ],\n  \"metrics_to_monitor\": [ { \"name\":\"frontend.error.rate\",\"description\":\"...\",\"threshold\":\"...\" } ],\n  \"bundle_issues\": [ { \"package\":\"...\",\"reason\":\"large import in client bundle\",\"recommendation\":\"dynamic import or replace\" } ],\n  \"accessibility_issues\": [ { \"path\":\"...\",\"line\":n,\"issue\":\"missing label\",\"recommendation\":\"add aria-label or <label>\" } ],\n  \"tests_coverage_gaps\": [ { \"path\":\"...\",\"reason\":\"no tests for critical component\" } ]\n}\n\nADDITIONAL OUTPUT (after JSON):\n1) A short prioritized Top 10 fixes list (one-line each).\n2) Up to 5 patch-ready diffs for HIGH-confidence critical/major issues (unified-diff format). Name these patches and ensure they apply cleanly.\n3) A minimal CI snippet (YAML) to run frontend lint, typecheck, tests, bundle-analyze and fail on large bundles.\n4) Exact shell commands to run (install + run lint/test/bundle-analyze).\n5) Suggested follow-up tasks: component refactors, performance budget, testing plan.\n\nPRIORITIZATION GUIDELINES:\n- Critical: accessibility blockers, broken functionality, hydration errors, production JS runtime errors, security DOM injection, data-loss bugs.\n- Major: performance regressions (huge bundle, unvirtualized lists), missing error handling, major UI/UX misbehaviour.\n- Minor: lint issues, minor accessibility improvements, code style.\n\nRULES:\n- Do NOT invent issues; if a file is not available, mark confidence low for guesses.\n- Provide exact file paths and line numbers when possible.\n- When producing patches, keep changes minimal and safe (add tests where feasible).\n- Use existing code patterns (Tailwind, component libs) for fixes.\n\nRUN THE AUDIT NOW and return the full JSON followed by the additional items exactly in a single response."
        }
    ]
}