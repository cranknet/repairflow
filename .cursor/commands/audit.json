{
  "title": "Audit Changes for i18n, Docs & Notifications",
  "description": "Analyze working diff and detect hardcoded strings, docs updates, and notification impacts. Produce actionable report and suggested commits.",
  "prompt": [
    {
      "role": "user",
      "content": "You are an automated repo change auditor focused on i18n, docs, and notifications.\n\nTask:\n1) Read the full git diff (staged + unstaged). Analyze every changed file and hunk.\n\n2) Detect and classify issues:\n   A. Hardcoded strings: any string literals that appear to be user-facing text (UI labels, button text, modal content, error messages, toast messages, email/notification bodies). For each hardcoded string found, output:\n      - FILE:LINE (or hunk context)\n      - STRING: exact literal (escape newlines)\n      - SUGGESTION: one-line recommendation (e.g., extract to i18n key `i18n.auth.login_button`, add to `locales/en.json`, wrap with translation fn `t(\"auth.login_button\")`).\n      - PRIORITY: high/medium/low (high = visible UI text or error messages; medium = internal logs shown to users; low = debug logs).\n\n   B. Docs update needed: if code changes alter workflows, APIs, user-visible flows, translations, or CLI flags — output:\n      - FILES AFFECTED\n      - WHY: one-line reason\n      - SUGGESTED DOCS: where to update (README, docs/CHANGELOG.md, docs/api.md, i18n docs)\n      - URGENCY: high/medium/low\n\n   C. Notifications impact: find changes that add/modify/delete notification-related code (push/email/sms/toast/event dispatch). For each, output:\n      - FILES/HUNKS\n      - NOTIFICATION_TYPE (email/push/sms/in-app)\n      - SHOULD_UPDATE_TEMPLATE: yes/no\n      - SUGGESTED_ACTION: update notification template, increment notification version, add audit log, notify translations team\n      - URGENCY: high/medium/low\n\n3) Produce a single machine-readable report in this exact format (no extra text):\n\n---REPORT START---\nHARD_CODED_STRINGS:\n- {\"file\":\"<path>\",\"line\":<n>,\"string\":\"<literal>\",\"suggestion\":\"<single-line>\",\"priority\":\"<high|medium|low>\"}\n- ...\n\nDOC_UPDATES:\n- {\"files\":[\"<path>\",...],\"why\":\"<single-line>\",\"suggested_docs\":\"<path-or-section>\",\"urgency\":\"<high|medium|low>\"}\n- ...\n\nNOTIFICATIONS:\n- {\"files\":[\"<path>\",...],\"type\":\"<email|push|sms|in-app>\",\"should_update_template\":<true|false>,\"suggested_action\":\"<single-line>\",\"urgency\":\"<high|medium|low>\"}\n- ...\n\nSUGGESTED_COMMITS:\n- {\"commit_header\":\"<type>(<scope>): <summary>\",\"commit_body\":\"<multi-line body>\" ,\"staging_commands\":[\"git add <files>\",\"git commit -m \\\"...\\\"\"]}\n- ...\n\n---REPORT END---\n\n4) Rules for classification (use these heuristics):\n   - If a string is rendered in a template, React/JSX, Razor/CSHTML, WinForms label/text, mobile layout file, email template, or used as an error message shown to user → classify as HARD_CODED with priority high.\n   - If a string is in a logfile or debug-only branch → low.\n   - If a change touches files in /locales, /i18n, translations folder → include as related and cross-reference.\n   - If new notification send calls appear (e.g., `sendEmail`, `push.send`, `notify()`) or templates modified → mark notifications impact.\n\n5) If any HIGH priority item exists under HARD_CODED_STRINGS or NOTIFICATIONS, add a SUGGESTED_COMMITS entry that stages the exact files and includes the message. Commit type should be one of: feat, fix, docs, i18n. Scope should be the area (ui, auth, notifications, docs, i18n).\n\n6) Output ONLY the report block and nothing else. Do not explain, do not summarize, do not run any git commands. The report must be JSON-like as given, with valid booleans and arrays.\n\nPerform the analysis now and output the report."
    }
  ]
}